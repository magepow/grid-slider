/*! Copyright: https://apps.shopify.com/partners/maggicart */
!function(i){"use strict";i.gridSlider=function(e,t){var n=this,r={selector:".grid-slider",IntersectionObserver:!1},d=i(e);n.settings={},n.init=function(){n.settings=i.extend({},r,t),n._initSlider()},n.uniqid=function(i=10){let e="";const t="abcdefghijklmnopqrstuvwxyz0123456789",n=t.length;for(let r=0;r<i;r++)e+=t.charAt(Math.floor(Math.random()*n));return e},n._initSlider=function(){var e=n.settings,t=e.IntersectionObserver,r=i("head"),a=d.find(e.selector);return a.length||(a=d),a.each(function(){var e=i(this),d=i("body").hasClass("rtl"),a="grid-slider-"+n.uniqid(),s=a;if(e.addClass(a),a="."+a,d&&(e.attr("dir","rtl"),e.data("rtl",!0)),void 0===l){var o=e.find("> .slick-list > .slick-track");o.length?o.children().addClass("alo-item"):e.children().addClass("alo-item");var l=".alo-item"}var c=e.data(),h=void 0===(c||{}).rows?1:c.rows,f=h?a+" "+l:a+" .slick-track > "+l,p=void 0===(c||{}).padding?0:c.padding,u=f+"{padding: 0 "+p+"px; box-sizing: border-box} "+a+"{margin: 0 -"+p+"px; }"+a+".grid-init{visibility: visible; opacity: 1;}";if(u+=f+"{float: left; min-height: 1px; min-width: 1px;}",(u+=".rtl "+f+"{float: right; min-height: 1px; min-width: 1px;}")&&r.append('<style type="text/css" >'+u+"</style>"),u="",c.slidesToShow)if("IntersectionObserver"in window&&t){var g=c.slidesToShow+1;u+=a+" .item:nth-child(n+ "+g+"){display: none;} "+a+" .item{float:left};";let t=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){let d=e.target;var t=i(d);t.on("init",function(){r.find("#"+s).remove()}),n.sliderRender(t)}})});e.each(function(i,e){t.observe(e)})}else n.sliderRender(e);if(c.appendArrows||c.appendDots){var v=c.wrapper?e.find(c.wrapper):e.parent();c.appendArrows&&e.data("append-Arrows",v.find(c.appendArrows)),c.appendDots&&e.data("append-Dots",v.find(c.appendDots))}var m=n.getPesponsive(c);if(void 0!=m){var w=Object.keys(m).length;i.each(m,function(e,t){var n=0,r=0,d=0;if(i.each(t,function(i,e){d=parseInt(i)+1,n=e}),e+2<w)i.each(m[e+1],function(i,e){r=i,n=e}),u+=" @media (min-width: "+d+"px) and (max-width: "+r+"px)";else{if(e+2==w)return;i.each(m[e],function(i,e){r=i,n=e}),u+=" @media (min-width: "+r+"px)"}let s=1!=h?f+":nth-child("+n+"n+1){clear: left}":" ";u+=" {"+a+"{margin: 0 -"+p+"px}"+f+"{padding: 0 "+p+"px; box-sizing: border-box; width: calc(100% / "+n+")} "+(s+=1!=h?".rtl "+f+":nth-child("+n+"n+1){clear: right}":" ")+"}"}),r.append('<style type="text/css" id="'+s+'" >'+u+"</style>"),e.addClass("grid-init")}}),this},n.getPesponsive=function(e){if(e.responsive){if(!e.slidesToShow)return e.responsive.reverse();var t=e.responsive,n=(Object.keys(t).length,[]);return i.each(t,function(i,e){var t={};t[e.breakpoint]=parseInt(e.settings.slidesToShow),n.push(t)}),n.reverse()}},n.sliderRender=function(e){if(e.hasClass("slick-initialized"))e.slick("refresh");else{var t=e.data(),n=e.find("img.lazyload");n.length&&n.each(function(e){i(this).data("lazy",i(this).data("src"))}),e.on("init",function(e,t){i("body").trigger("contentUpdated"),i(this).find(".external-video").on("click",function(e){if(e.preventDefault(),!t.hasClass("embed")){var t=i(this),n=t.find("img"),r=i(this).data("video");r=(r=r.replace("://vimeo.com/","://player.vimeo.com/video/")).replace("://www.youtube.com/watch?v=","://youtube.com/embed/");var d='<iframe class="iframe-video" src="'+(r+="?autoplay=1&badge=0")+'" width="'+n.width()+'" height="'+n.height()+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';t.append(d).addClass("embed"),n.hide()}})});var r=e.slick(t);e.on("beforeChange",function(e,t,n,r){var d=i(this).find(".external-video");d.removeClass("embed").find("img").show(),d.find(".iframe-video").remove()}),r.on("click",".item",function(){e.slick("slickSetOption","autoplay",!1,!1)})}},n.init()},i.fn.gridSlider=function(e){return this.each(function(){if(void 0==i(this).data("gridSlider")){var t=new i.gridSlider(this,e);i(this).data("gridSlider",t)}})},i(document).ready(function(i){i(".grid-slider").not(".exception").each(function(){i(this).gridSlider()})}),i(document).on("contentUpdated",function(e){i(".grid-slider").not(".exception, .grid-init, .slick-initialized").each(function(){i(this).gridSlider()})}),i(document).on("Alothemes:SwitchRTL:reload",function(e){i(".grid-slider").not(".exception").each(function(){i("body").hasClass("rtl")?i(this).attr("dir","rtl").data("rtl",!0):i(this).attr("dir","ltr").data("rtl",!1),i(this).hasClass("slick-initialized")&&i(this).slick("unslick").slick(i(this).data())})}),i(document).on("shopify:section:unload shopify:section:load",function(e){i("#shopify-section-"+e.detail.sectionId).find(".grid-slider").not(".exception").each(function(){i(this).gridSlider()})})}(jQuery);